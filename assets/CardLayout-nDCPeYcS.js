import{h as S,r as W,E as _e,w as ve,H as q,I as Tt,J as Sl,D as Ee,d as Se,c as F,L as te,M as K,O as de,j as ee,g as gt,i as qe,t as ue,e as fe,N as re,F as He,f as De,X as an,W as on,Z as un,B as Ce,o as yl,$ as $t,a0 as rn,G as sn,K as cn,a1 as dn,b as wl,V as _l,a2 as fn,u as vn,a as mn,_ as gn}from"./_plugin-vue_export-helper-Dxsx2kFr.js";import{k as ge,m as ze,y as hn,v as Ct,B as xl,C as kl,D as Bt,Q as Be,s as be,p as Ye,q as Xe,Z as bn,_ as Sn,$ as yn,G as we,F as Ve,a0 as Ot,a1 as wn,j as Et,X as _n,a2 as xn,x as tt,a3 as ll,a4 as kn,l as Vt,c as Cn,a5 as pn,a6 as qn,a7 as $n,n as Vn,i as Mn,a8 as Qe,I as ct,a9 as Ln,w as An,A as Ke,z as In}from"./QLayout-C4F_jVLr.js";import{b as Mt,c as Cl,d as Tn,e as Bn,s as pl,a as ql,f as $l,g as Vl,h as On,i as Ml,j as En,Q as nl,k as dt,p as al,l as Hn,m as Dn,n as zn,o as Fn,q as Rn,r as Nn,t as il,v as Pn,w as jn,x as Wn,y as Ht,z as Ll,A as Al,B as Il,C as Kn,D as ol,E as Qn,F as Tl,G as ul,H as Un,I as Yn}from"./stream-gtyDiXRs.js";import{u as Xn}from"./raven-ByXgOShA.js";var Gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bl={exports:{}};(function(e,t){(function(l,a){e.exports=a()})(Gn,function(){var l=1e3,a=6e4,i=36e5,o="millisecond",u="second",s="minute",f="hour",m="day",c="week",v="month",g="quarter",d="year",k="date",A="Invalid Date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,U=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,G={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(I){var C=["th","st","nd","rd"],_=I%100;return"["+I+(C[(_-20)%10]||C[_]||C[0])+"]"}},w=function(I,C,_){var h=String(I);return!h||h.length>=C?I:""+Array(C+1-h.length).join(_)+I},b={s:w,z:function(I){var C=-I.utcOffset(),_=Math.abs(C),h=Math.floor(_/60),x=_%60;return(C<=0?"+":"-")+w(h,2,"0")+":"+w(x,2,"0")},m:function I(C,_){if(C.date()<_.date())return-I(_,C);var h=12*(_.year()-C.year())+(_.month()-C.month()),x=C.clone().add(h,v),B=_-x<0,O=C.clone().add(h+(B?-1:1),v);return+(-(h+(_-x)/(B?x-O:O-x))||0)},a:function(I){return I<0?Math.ceil(I)||0:Math.floor(I)},p:function(I){return{M:v,y:d,w:c,d:m,D:k,h:f,m:s,s:u,ms:o,Q:g}[I]||String(I||"").toLowerCase().replace(/s$/,"")},u:function(I){return I===void 0}},D="en",H={};H[D]=G;var Y="$isDayjsObject",M=function(I){return I instanceof le||!(!I||!I[Y])},J=function I(C,_,h){var x;if(!C)return D;if(typeof C=="string"){var B=C.toLowerCase();H[B]&&(x=B),_&&(H[B]=_,x=B);var O=C.split("-");if(!x&&O.length>1)return I(O[0])}else{var r=C.name;H[r]=C,x=r}return!h&&x&&(D=x),x||!h&&D},Q=function(I,C){if(M(I))return I.clone();var _=typeof C=="object"?C:{};return _.date=I,_.args=arguments,new le(_)},z=b;z.l=J,z.i=M,z.w=function(I,C){return Q(I,{locale:C.$L,utc:C.$u,x:C.$x,$offset:C.$offset})};var le=function(){function I(_){this.$L=J(_.locale,null,!0),this.parse(_),this.$x=this.$x||_.x||{},this[Y]=!0}var C=I.prototype;return C.parse=function(_){this.$d=function(h){var x=h.date,B=h.utc;if(x===null)return new Date(NaN);if(z.u(x))return new Date;if(x instanceof Date)return new Date(x);if(typeof x=="string"&&!/Z$/i.test(x)){var O=x.match($);if(O){var r=O[2]-1||0,y=(O[7]||"0").substring(0,3);return B?new Date(Date.UTC(O[1],r,O[3]||1,O[4]||0,O[5]||0,O[6]||0,y)):new Date(O[1],r,O[3]||1,O[4]||0,O[5]||0,O[6]||0,y)}}return new Date(x)}(_),this.init()},C.init=function(){var _=this.$d;this.$y=_.getFullYear(),this.$M=_.getMonth(),this.$D=_.getDate(),this.$W=_.getDay(),this.$H=_.getHours(),this.$m=_.getMinutes(),this.$s=_.getSeconds(),this.$ms=_.getMilliseconds()},C.$utils=function(){return z},C.isValid=function(){return this.$d.toString()!==A},C.isSame=function(_,h){var x=Q(_);return this.startOf(h)<=x&&x<=this.endOf(h)},C.isAfter=function(_,h){return Q(_)<this.startOf(h)},C.isBefore=function(_,h){return this.endOf(h)<Q(_)},C.$g=function(_,h,x){return z.u(_)?this[h]:this.set(x,_)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(_,h){var x=this,B=!!z.u(h)||h,O=z.p(_),r=function(p,Z){var se=z.w(x.$u?Date.UTC(x.$y,Z,p):new Date(x.$y,Z,p),x);return B?se:se.endOf(m)},y=function(p,Z){return z.w(x.toDate()[p].apply(x.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(Z)),x)},T=this.$W,N=this.$M,X=this.$D,P="set"+(this.$u?"UTC":"");switch(O){case d:return B?r(1,0):r(31,11);case v:return B?r(1,N):r(0,N+1);case c:var E=this.$locale().weekStart||0,ne=(T<E?T+7:T)-E;return r(B?X-ne:X+(6-ne),N);case m:case k:return y(P+"Hours",0);case f:return y(P+"Minutes",1);case s:return y(P+"Seconds",2);case u:return y(P+"Milliseconds",3);default:return this.clone()}},C.endOf=function(_){return this.startOf(_,!1)},C.$set=function(_,h){var x,B=z.p(_),O="set"+(this.$u?"UTC":""),r=(x={},x[m]=O+"Date",x[k]=O+"Date",x[v]=O+"Month",x[d]=O+"FullYear",x[f]=O+"Hours",x[s]=O+"Minutes",x[u]=O+"Seconds",x[o]=O+"Milliseconds",x)[B],y=B===m?this.$D+(h-this.$W):h;if(B===v||B===d){var T=this.clone().set(k,1);T.$d[r](y),T.init(),this.$d=T.set(k,Math.min(this.$D,T.daysInMonth())).$d}else r&&this.$d[r](y);return this.init(),this},C.set=function(_,h){return this.clone().$set(_,h)},C.get=function(_){return this[z.p(_)]()},C.add=function(_,h){var x,B=this;_=Number(_);var O=z.p(h),r=function(N){var X=Q(B);return z.w(X.date(X.date()+Math.round(N*_)),B)};if(O===v)return this.set(v,this.$M+_);if(O===d)return this.set(d,this.$y+_);if(O===m)return r(1);if(O===c)return r(7);var y=(x={},x[s]=a,x[f]=i,x[u]=l,x)[O]||1,T=this.$d.getTime()+_*y;return z.w(T,this)},C.subtract=function(_,h){return this.add(-1*_,h)},C.format=function(_){var h=this,x=this.$locale();if(!this.isValid())return x.invalidDate||A;var B=_||"YYYY-MM-DDTHH:mm:ssZ",O=z.z(this),r=this.$H,y=this.$m,T=this.$M,N=x.weekdays,X=x.months,P=x.meridiem,E=function(Z,se,ye,me){return Z&&(Z[se]||Z(h,B))||ye[se].slice(0,me)},ne=function(Z){return z.s(r%12||12,Z,"0")},p=P||function(Z,se,ye){var me=Z<12?"AM":"PM";return ye?me.toLowerCase():me};return B.replace(U,function(Z,se){return se||function(ye){switch(ye){case"YY":return String(h.$y).slice(-2);case"YYYY":return z.s(h.$y,4,"0");case"M":return T+1;case"MM":return z.s(T+1,2,"0");case"MMM":return E(x.monthsShort,T,X,3);case"MMMM":return E(X,T);case"D":return h.$D;case"DD":return z.s(h.$D,2,"0");case"d":return String(h.$W);case"dd":return E(x.weekdaysMin,h.$W,N,2);case"ddd":return E(x.weekdaysShort,h.$W,N,3);case"dddd":return N[h.$W];case"H":return String(r);case"HH":return z.s(r,2,"0");case"h":return ne(1);case"hh":return ne(2);case"a":return p(r,y,!0);case"A":return p(r,y,!1);case"m":return String(y);case"mm":return z.s(y,2,"0");case"s":return String(h.$s);case"ss":return z.s(h.$s,2,"0");case"SSS":return z.s(h.$ms,3,"0");case"Z":return O}return null}(Z)||O.replace(":","")})},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(_,h,x){var B,O=this,r=z.p(h),y=Q(_),T=(y.utcOffset()-this.utcOffset())*a,N=this-y,X=function(){return z.m(O,y)};switch(r){case d:B=X()/12;break;case v:B=X();break;case g:B=X()/3;break;case c:B=(N-T)/6048e5;break;case m:B=(N-T)/864e5;break;case f:B=N/i;break;case s:B=N/a;break;case u:B=N/l;break;default:B=N}return x?B:z.a(B)},C.daysInMonth=function(){return this.endOf(v).$D},C.$locale=function(){return H[this.$L]},C.locale=function(_,h){if(!_)return this.$L;var x=this.clone(),B=J(_,h,!0);return B&&(x.$L=B),x},C.clone=function(){return z.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},I}(),R=le.prototype;return Q.prototype=R,[["$ms",o],["$s",u],["$m",s],["$H",f],["$W",m],["$M",v],["$y",d],["$D",k]].forEach(function(I){R[I[1]]=function(C){return this.$g(C,I[0],I[1])}}),Q.extend=function(I,C){return I.$i||(I(C,le,Q),I.$i=!0),Q},Q.locale=J,Q.isDayjs=M,Q.unix=function(I){return Q(1e3*I)},Q.en=H[D],Q.Ls=H,Q.p={},Q})})(Bl);var Zn=Bl.exports;const $e=Jn(Zn);function Dt(e){return e.type==="movie"}function ht(e){return e.type==="tv"}function ni(e){const t=[];for(const l of e.notes??[]){const a={...e};a.notes=[l],t.push(a)}return t}function ai(e,t){const l=[];if(ht(e))for(const a of e.notes??[]){const i=new Map;for(const o of a.eposides){const u=$e(o.timestamp).format(t),s=i.get(u)??[];s.push(o),i.set(u,s)}for(const o of i.values()){const u={...e};u.notes=[{...a}],u.notes[0].eposides=o,l.push(u)}}else l.push(e);return l}function rl(e){var l,a;let t;return Dt(e)?t=(l=e.notes)==null?void 0:l.map(i=>$e(i.timestamp)).reduce((i,o)=>i>o?i:o):ht(e)&&(t=(a=e.notes)==null?void 0:a.map(i=>i.eposides.map(o=>$e(o.timestamp)).reduce((o,u)=>o>u?o:u)).reduce((i,o)=>i>o?i:o)),$e(t)}const ea={ratio:[String,Number]};function ta(e,t){return S(()=>{const l=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(l)!==!0&&l>0?{paddingBottom:`${100/l}%`}:null})}const la=16/9,Ol=ge({name:"QImg",props:{...ea,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:la},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:l}){const a=W(e.initialRatio),i=ta(e,a),o=_e(),{registerTimeout:u,removeTimeout:s}=Mt(),{registerTimeout:f,removeTimeout:m}=Mt(),c=[W(null),W(D())],v=W(0),g=W(!1),d=W(!1),k=S(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),A=S(()=>({width:e.width,height:e.height})),$=S(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),U=S(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));ve(()=>b(),H);function G(){if(m(),e.loadingShowDelay===0){g.value=!0;return}f(()=>{g.value=!0},e.loadingShowDelay)}function w(){m(),g.value=!1}function b(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function D(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function H(R){s(),d.value=!1,R===null?(w(),c[v.value^1].value=D()):G(),c[v.value].value=R}function Y({target:R}){Ct(o)===!1&&(s(),a.value=R.naturalHeight===0?.5:R.naturalWidth/R.naturalHeight,M(R,1))}function M(R,I){I===1e3||Ct(o)===!0||(R.complete===!0?J(R):u(()=>{M(R,I+1)},50))}function J(R){Ct(o)!==!0&&(v.value=v.value^1,c[v.value].value=null,w(),d.value=!1,l("load",R.currentSrc||R.src))}function Q(R){s(),w(),d.value=!0,c[v.value].value=null,c[v.value^1].value=D(),l("error",R)}function z(R){const I=c[R].value,C={key:"img_"+R,class:$.value,style:U.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...I};return v.value===R?(C.class+=" q-img__image--waiting",Object.assign(C,{onLoad:Y,onError:Q})):C.class+=" q-img__image--loaded",q("div",{class:"q-img__container absolute-full",key:"img"+R},q("img",C))}function le(){return g.value===!1?q("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},ze(t[d.value===!0?"error":"default"])):q("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[q(hn,{color:e.spinnerColor,size:e.spinnerSize})])}return H(b()),()=>{const R=[];return i.value!==null&&R.push(q("div",{key:"filler",style:i.value})),d.value!==!0&&(c[0].value!==null&&R.push(z(0)),c[1].value!==null&&R.push(z(1))),R.push(q(Tt,{name:"q-transition--fade"},le)),q("div",{class:k.value,style:A.value,role:"img","aria-label":e.alt},R)}}});function na(e,t,l){return l<=t?t:Math.min(l,Math.max(t,e))}function sl(e,t,l){if(l<=t)return t;const a=l-t+1;let i=t+(e-t)%a;return i<t&&(i=a+i),i===0?0:i}const zt=ge({name:"QRating",props:{...xl,...Cl,modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],iconAriaLabel:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{slots:t,emit:l}){const{proxy:{$q:a}}=_e(),i=kl(e),o=Tn(e),u=Bn(o),s=W(0);let f={};const m=S(()=>e.readonly!==!0&&e.disable!==!0),c=S(()=>`q-rating row inline items-center q-rating--${m.value===!0?"":"non-"}editable`+(e.noDimming===!0?" q-rating--no-dimming":"")+(e.disable===!0?" disabled":"")+(e.color!==void 0&&Array.isArray(e.color)===!1?` text-${e.color}`:"")),v=S(()=>{const w=Array.isArray(e.icon)===!0?e.icon.length:0,b=Array.isArray(e.iconSelected)===!0?e.iconSelected.length:0,D=Array.isArray(e.iconHalf)===!0?e.iconHalf.length:0,H=Array.isArray(e.color)===!0?e.color.length:0,Y=Array.isArray(e.colorSelected)===!0?e.colorSelected.length:0,M=Array.isArray(e.colorHalf)===!0?e.colorHalf.length:0;return{iconLen:w,icon:w>0?e.icon[w-1]:e.icon,selIconLen:b,selIcon:b>0?e.iconSelected[b-1]:e.iconSelected,halfIconLen:D,halfIcon:D>0?e.iconHalf[b-1]:e.iconHalf,colorLen:H,color:H>0?e.color[H-1]:e.color,selColorLen:Y,selColor:Y>0?e.colorSelected[Y-1]:e.colorSelected,halfColorLen:M,halfColor:M>0?e.colorHalf[M-1]:e.colorHalf}}),g=S(()=>{if(typeof e.iconAriaLabel=="string"){const w=e.iconAriaLabel.length!==0?`${e.iconAriaLabel} `:"";return b=>`${w}${b}`}if(Array.isArray(e.iconAriaLabel)===!0){const w=e.iconAriaLabel.length;if(w>0)return b=>e.iconAriaLabel[Math.min(b,w)-1]}return(w,b)=>`${b} ${w}`}),d=S(()=>{const w=[],b=v.value,D=Math.ceil(e.modelValue),H=m.value===!0?0:null,Y=e.iconHalf===void 0||D===e.modelValue?-1:D;for(let M=1;M<=e.max;M++){const J=s.value===0&&e.modelValue>=M||s.value>0&&s.value>=M,Q=Y===M&&s.value<M,z=s.value>0&&(Q===!0?D:e.modelValue)>=M&&s.value<M,le=Q===!0?M<=b.halfColorLen?e.colorHalf[M-1]:b.halfColor:b.selColor!==void 0&&J===!0?M<=b.selColorLen?e.colorSelected[M-1]:b.selColor:M<=b.colorLen?e.color[M-1]:b.color,R=(Q===!0?M<=b.halfIconLen?e.iconHalf[M-1]:b.halfIcon:b.selIcon!==void 0&&(J===!0||z===!0)?M<=b.selIconLen?e.iconSelected[M-1]:b.selIcon:M<=b.iconLen?e.icon[M-1]:b.icon)||a.iconSet.rating.icon;w.push({name:(Q===!0?M<=b.halfIconLen?e.iconHalf[M-1]:b.halfIcon:b.selIcon!==void 0&&(J===!0||z===!0)?M<=b.selIconLen?e.iconSelected[M-1]:b.selIcon:M<=b.iconLen?e.icon[M-1]:b.icon)||a.iconSet.rating.icon,attrs:{tabindex:H,role:"radio","aria-checked":e.modelValue===M?"true":"false","aria-label":g.value(M,R)},iconClass:"q-rating__icon"+(J===!0||Q===!0?" q-rating__icon--active":"")+(z===!0?" q-rating__icon--exselected":"")+(s.value===M?" q-rating__icon--hovered":"")+(le!==void 0?` text-${le}`:"")})}return w}),k=S(()=>{const w={role:"radiogroup"};return e.disable===!0&&(w["aria-disabled"]="true"),e.readonly===!0&&(w["aria-readonly"]="true"),w});function A(w){if(m.value===!0){const b=na(parseInt(w,10),1,parseInt(e.max,10)),D=e.noReset!==!0&&e.modelValue===b?0:b;D!==e.modelValue&&l("update:modelValue",D),s.value=0}}function $(w){m.value===!0&&(s.value=w)}function U(w,b){switch(w.keyCode){case 13:case 32:return A(b),be(w);case 37:case 40:return f[`rt${b-1}`]&&f[`rt${b-1}`].focus(),be(w);case 39:case 38:return f[`rt${b+1}`]&&f[`rt${b+1}`].focus(),be(w)}}function G(){s.value=0}return Sl(()=>{f={}}),()=>{const w=[];return d.value.forEach(({iconClass:b,name:D,attrs:H},Y)=>{const M=Y+1;w.push(q("div",{key:M,ref:J=>{f[`rt${M}`]=J},class:"q-rating__icon-container flex flex-center",...H,onClick(){A(M)},onMouseover(){$(M)},onMouseout:G,onFocus(){$(M)},onBlur:G,onKeyup(J){U(J,M)}},Bt(t[`tip-${M}`],[q(Be,{class:b,name:D})])))}),e.name!==void 0&&e.disable!==!0&&u(w,"push"),q("div",{class:c.value,style:i.value,...k.value},w)}}}),aa=["top","middle","bottom"],rt=ge({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>aa.includes(e)}},setup(e,{slots:t}){const l=S(()=>e.align!==void 0?{verticalAlign:e.align}:null),a=S(()=>{const i=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(i!==void 0?` text-${i}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>q("div",{class:a.value,style:l.value,role:"status","aria-label":e.label},Bt(t.default,e.label!==void 0?[e.label]:[]))}}),ia={xs:8,sm:10,md:14,lg:20,xl:24},bt=ge({name:"QChip",props:{...Ye,...xl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:l}){const{proxy:{$q:a}}=_e(),i=Xe(e,a),o=kl(e,ia),u=S(()=>e.selected===!0||e.icon!==void 0),s=S(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),f=S(()=>e.iconRemove||a.iconSet.chip.remove),m=S(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=S(()=>{const $=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+($?` text-${$} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(m.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(i.value===!0?" q-chip--dark q-dark":"")}),v=S(()=>{const $=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},U={...$,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:$,remove:U}});function g($){$.keyCode===13&&d($)}function d($){e.disable||(l("update:selected",!e.selected),l("click",$))}function k($){($.keyCode===void 0||$.keyCode===13)&&(be($),e.disable===!1&&(l("update:modelValue",!1),l("remove")))}function A(){const $=[];m.value===!0&&$.push(q("div",{class:"q-focus-helper"})),u.value===!0&&$.push(q(Be,{class:"q-chip__icon q-chip__icon--left",name:s.value}));const U=e.label!==void 0?[q("div",{class:"ellipsis"},[e.label])]:void 0;return $.push(q("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Sn(t.default,U))),e.iconRight&&$.push(q(Be,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&$.push(q(Be,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:f.value,...v.value.remove,onClick:k,onKeyup:k})),$}return()=>{if(e.modelValue===!1)return;const $={class:c.value,style:o.value};return m.value===!0&&Object.assign($,v.value.chip,{onClick:d,onKeyup:g}),bn("div",$,A(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[yn,e.ripple]])}}}),Ft=ge({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:l}){let a=!1,i,o,u=null,s=null,f,m;function c(){i&&i(),i=null,a=!1,u!==null&&(clearTimeout(u),u=null),s!==null&&(clearTimeout(s),s=null),o!==void 0&&o.removeEventListener("transitionend",f),f=null}function v(A,$,U){$!==void 0&&(A.style.height=`${$}px`),A.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,a=!0,i=U}function g(A,$){A.style.overflowY=null,A.style.height=null,A.style.transition=null,c(),$!==m&&l($)}function d(A,$){let U=0;o=A,a===!0?(c(),U=A.offsetHeight===A.scrollHeight?0:void 0):(m="hide",A.style.overflowY="hidden"),v(A,U,$),u=setTimeout(()=>{u=null,A.style.height=`${A.scrollHeight}px`,f=G=>{s=null,(Object(G)!==G||G.target===A)&&g(A,"show")},A.addEventListener("transitionend",f),s=setTimeout(f,e.duration*1.1)},100)}function k(A,$){let U;o=A,a===!0?c():(m="show",A.style.overflowY="hidden",U=A.scrollHeight),v(A,U,$),u=setTimeout(()=>{u=null,A.style.height=0,f=G=>{s=null,(Object(G)!==G||G.target===A)&&g(A,"hide")},A.addEventListener("transitionend",f),s=setTimeout(f,e.duration*1.1)},100)}return Ee(()=>{a===!0&&c()}),()=>q(Tt,{css:!1,appear:e.appear,onEnter:d,onLeave:k},t.default)}});function El(e){return!e||e.length==0?null:e.match(/^\w+:\/\//)?e:`/media/${e}`}const oa={class:"text-h6 text-weight-bold"},ua={key:0,class:"text-subtitle1"},ra={key:2},sa={key:3},ca=Se({__name:"MoviePreviewCard",props:{data:{}},setup(e){const t=pl(ql()),l=e,a=W(0),i=S(()=>!l.data.info.poster||a.value<0||a.value>=l.data.info.poster.length?null:El(l.data.info.poster[a.value]));function o(m){return $e(m).format("YYYY-MM-DD")}const u=S(()=>{if(!l.data.notes)return null;let m=l.data.notes;return m.sort((c,v)=>$e(v.timestamp).diff(c.timestamp)),m}),s=S(()=>{var m;return u.value&&((m=u.value)==null?void 0:m.length)>0?u.value[0]:null});function f(){var m;a.value>=(((m=l.data.info.poster)==null?void 0:m.length)??0)?a.value=-1:a.value++}return(m,c)=>(F(),te(Ve,{flat:""},{default:K(()=>[i.value?(F(),te(Ol,{key:0,src:i.value,onError:f,ratio:3/4,fit:"cover",loading:"lazy"},null,8,["src"])):de("",!0),ee(Ft,null,{default:K(()=>[gt(t).detailedInfo.value?(F(),te(we,{key:0,class:"text-body2"},{default:K(()=>[qe("div",oa,ue(l.data.info.title),1),l.data.info.localTitle?(F(),fe("div",ua,ue(l.data.info.localTitle),1)):de("",!0),s.value?(F(),te(zt,{key:1,"model-value":s.value.rate,color:"red","no-dimming":"",max:"5",icon:"favorite_border","icon-selected":"favorite",readonly:""},null,8,["model-value"])):de("",!0),s.value?(F(),fe("div",ra,[re(ue(o(s.value.timestamp))+" ",1),u.value&&u.value.length>1?(F(),te(rt,{key:0},{default:K(()=>[re(ue(u.value.length),1)]),_:1})):de("",!0)])):de("",!0),l.data.info.tags?(F(),fe("div",sa,[(F(!0),fe(He,null,De(l.data.info.tags,(v,g)=>(F(),te(bt,{key:g,dense:"",outline:""},{default:K(()=>[re(ue(v),1)]),_:2},1024))),128))])):de("",!0)]),_:1})):de("",!0)]),_:1})]),_:1}))}}),da={class:"text-h6 text-weight-bold"},fa={key:0,class:"text-subtitle1"},va={key:2},ma={key:3},ga=Se({__name:"TvPreviewCard",props:{data:{}},setup(e){const t=pl(ql()),l=e,a=W(0),i=S(()=>!l.data.info.poster||a.value<0||a.value>=l.data.info.poster.length?null:El(l.data.info.poster[a.value]));function o(g){return $e(g).format("YYYY-MM-DD")}function u(g){return g.eposides.map(d=>$e(d.timestamp)).reduce((d,k)=>d>k?d:k)}const s=S(()=>{let g=l.data.notes;return g==null||g.sort((d,k)=>u(d).diff(u(k))),g}),f=S(()=>{var g;return(g=s==null?void 0:s.value)==null?void 0:g.at(0)}),m=S(()=>{var g,d;return`${((d=(g=f.value)==null?void 0:g.eposides.at(0))==null?void 0:d.eposide)??"?"} / ${l.data.info.eposides??"?"}`}),c=S(()=>{var g;return new Map([["ing","green-10"],["suspended","yellow-10"],["abandoned","red-10"],["done","primary"]]).get(((g=f.value)==null?void 0:g.status)??"")??"primary"});function v(){var g;a.value>=(((g=l.data.info.poster)==null?void 0:g.length)??0)?a.value=-1:a.value++}return(g,d)=>(F(),te(Ve,{flat:""},{default:K(()=>[i.value?(F(),te(Ol,{key:0,src:i.value,onError:v,ratio:3/4,fit:"cover",loading:"lazy"},null,8,["src"])):de("",!0),ee(Ft,null,{default:K(()=>[gt(t).detailedInfo.value?(F(),te(we,{key:0,class:"text-body2"},{default:K(()=>{var k;return[qe("div",da,[re(ue(l.data.info.title)+" ",1),l.data.info.season?(F(),te(rt,{key:0,align:"top",outline:"",rounded:""},{default:K(()=>[re(ue(l.data.info.season),1)]),_:1})):de("",!0)]),l.data.info.localTitle?(F(),fe("div",fa,ue(l.data.info.localTitle),1)):de("",!0),(k=f.value)!=null&&k.rate?(F(),te(zt,{key:1,"model-value":f.value.rate,color:"red","no-dimming":"",max:"5",icon:"favorite_border","icon-selected":"favorite",readonly:""},null,8,["model-value"])):de("",!0),f.value?(F(),fe("div",va,[re(ue(o(u(f.value)))+" ",1),s.value&&s.value.length>1?(F(),te(rt,{key:0},{default:K(()=>[re(ue(s.value.length),1)]),_:1})):de("",!0),ee(rt,{color:c.value},{default:K(()=>[re(ue(m.value),1)]),_:1},8,["color"])])):de("",!0),l.data.info.tags?(F(),fe("div",ma,[(F(!0),fe(He,null,De(l.data.info.tags,(A,$)=>(F(),te(bt,{key:$,dense:"",outline:""},{default:K(()=>[re(ue(A),1)]),_:2},1024))),128))])):de("",!0)]}),_:1})):de("",!0)]),_:1})]),_:1}))}}),Hl=ge({name:"QItem",props:{...Ye,...Ot,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:l}){const{proxy:{$q:a}}=_e(),i=Xe(e,a),{hasLink:o,linkAttrs:u,linkClass:s,linkTag:f,navigateOnClick:m}=wn(),c=W(null),v=W(null),g=S(()=>e.clickable===!0||o.value===!0||e.tag==="label"),d=S(()=>e.disable!==!0&&g.value===!0),k=S(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(i.value===!0?" q-item--dark":"")+(o.value===!0&&e.active===null?s.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(d.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),A=S(()=>e.insetLevel===void 0?null:{["padding"+(a.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function $(w){d.value===!0&&(v.value!==null&&(w.qKeyEvent!==!0&&document.activeElement===c.value?v.value.focus():document.activeElement===v.value&&c.value.focus()),m(w))}function U(w){if(d.value===!0&&Et(w,[13,32])===!0){be(w),w.qKeyEvent=!0;const b=new MouseEvent("click",w);b.qKeyEvent=!0,c.value.dispatchEvent(b)}l("keyup",w)}function G(){const w=_n(t.default,[]);return d.value===!0&&w.unshift(q("div",{class:"q-focus-helper",tabindex:-1,ref:v})),w}return()=>{const w={ref:c,class:k.value,style:A.value,role:"listitem",onClick:$,onKeyup:U};return d.value===!0?(w.tabindex=e.tabindex||"0",Object.assign(w,u.value)):g.value===!0&&(w["aria-disabled"]="true"),q(f.value,w,G())}}}),st=ge({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const l=S(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>q("div",{class:l.value},ze(t.default))}}),Lt=ge({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const l=S(()=>parseInt(e.lines,10)),a=S(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(l.value===1?" ellipsis":"")),i=S(()=>e.lines!==void 0&&l.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":l.value}:null);return()=>q("div",{style:i.value,class:a.value},ze(t.default))}}),Te=an({}),ha=Object.keys(Ot),ba=ge({name:"QExpansionItem",props:{...Ot,...$l,...Ye,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Vl,"click","afterShow","afterHide"],setup(e,{slots:t,emit:l}){const{proxy:{$q:a}}=_e(),i=Xe(e,a),o=W(e.modelValue!==null?e.modelValue:e.defaultOpened),u=W(null),s=On(),{show:f,hide:m,toggle:c}=Ml({showing:o});let v,g;const d=S(()=>`q-expansion-item q-item-type q-expansion-item--${o.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),k=S(()=>e.contentInsetLevel===void 0?null:{["padding"+(a.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),A=S(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),$=S(()=>{const h={};return ha.forEach(x=>{h[x]=e[x]}),h}),U=S(()=>A.value===!0||e.expandIconToggle!==!0),G=S(()=>e.expandedIcon!==void 0&&o.value===!0?e.expandedIcon:e.expandIcon||a.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),w=S(()=>e.disable!==!0&&(A.value===!0||e.expandIconToggle===!0)),b=S(()=>({expanded:o.value===!0,detailsId:e.targetUid,toggle:c,show:f,hide:m})),D=S(()=>{const h=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:a.lang.label[o.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":o.value===!0?"true":"false","aria-controls":s.value,"aria-label":h}});ve(()=>e.group,h=>{g!==void 0&&g(),h!==void 0&&z()});function H(h){A.value!==!0&&c(h),l("click",h)}function Y(h){h.keyCode===13&&M(h,!0)}function M(h,x){x!==!0&&u.value!==null&&u.value.focus(),c(h),be(h)}function J(){l("afterShow")}function Q(){l("afterHide")}function z(){v===void 0&&(v=En()),o.value===!0&&(Te[e.group]=v);const h=ve(o,B=>{B===!0?Te[e.group]=v:Te[e.group]===v&&delete Te[e.group]}),x=ve(()=>Te[e.group],(B,O)=>{O===v&&B!==void 0&&B!==v&&m()});g=()=>{h(),x(),Te[e.group]===v&&delete Te[e.group],g=void 0}}function le(){const h={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},x=[q(Be,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&o.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:G.value})];return w.value===!0&&(Object.assign(h,{tabindex:0,...D.value,onClick:M,onKeyup:Y}),x.unshift(q("div",{ref:u,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),q(st,h,()=>x)}function R(){let h;return t.header!==void 0?h=[].concat(t.header(b.value)):(h=[q(st,()=>[q(Lt,{lines:e.labelLines},()=>e.label||""),e.caption?q(Lt,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&h[e.switchToggleSide===!0?"push":"unshift"](q(st,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>q(Be,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&h[e.switchToggleSide===!0?"unshift":"push"](le()),h}function I(){const h={ref:"item",style:e.headerStyle,class:e.headerClass,dark:i.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return U.value===!0&&(h.clickable=!0,h.onClick=H,Object.assign(h,A.value===!0?$.value:D.value)),q(Hl,h,R)}function C(){return on(q("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:k.value,id:s.value},ze(t.default)),[[un,o.value]])}function _(){const h=[I(),q(Ft,{duration:e.duration,onShow:J,onHide:Q},C)];return e.expandSeparator===!0&&h.push(q(nl,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:i.value}),q(nl,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:i.value})),h}return e.group!==void 0&&z(),Ee(()=>{g!==void 0&&g()}),()=>q("div",{class:d.value},[q("div",{class:"q-expansion-item__container relative-position"},_())])}}),Sa=ge({name:"QList",props:{...Ye,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const l=_e(),a=Xe(e,l.proxy.$q),i=S(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(a.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>q(e.tag,{class:i.value},ze(t.default))}}),ya=Se({__name:"StringEditor",props:{data:{},description:{}},setup(e){const t=e,l=S({get(){return t.data[t.description.id]},set(a){t.data[t.description.id]=a}});return(a,i)=>(F(),te(dt,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=o=>l.value=o),label:a.description.label,dense:!0},null,8,["modelValue","label"]))}}),wa=Se({__name:"ObjectEditor",props:{data:{},description:{}},setup(e){const t=e;return(l,a)=>(F(),te(Ve,{class:"q-m-md bordered"},{default:K(()=>[t.description.label?(F(),te(we,{key:0},{default:K(()=>[re(ue(t.description.label),1)]),_:1})):de("",!0),ee(we,null,{default:K(()=>[(F(!0),fe(He,null,De(t.description.node,i=>(F(),te(Rt,{data:typeof t.data[i.id]=="object"?t.data[i.id]:t.data,description:i},{default:K(()=>[re(ue(i.label),1)]),_:2},1032,["data","description"]))),256))]),_:1})]),_:1}))}}),_a=Se({__name:"ListEditor",props:{data:{},description:{}},setup(e){const t=e;function l(i,o){return typeof i=="object"?i:t.data}function a(i,o){return Object.assign({},i,{id:o})}return(i,o)=>(F(),te(Ve,null,{default:K(()=>[ee(we,null,{default:K(()=>[re(ue(t.description.label),1)]),_:1}),ee(we,null,{default:K(()=>[(F(!0),fe(He,null,De(t.data,(u,s)=>(F(),te(Rt,{data:l(u,s),description:a(t.description.node,s)},null,8,["data","description"]))),256))]),_:1})]),_:1}))}});function xa(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),xn.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const ka={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Ca({showing:e,avoidEmit:t,configureAnchorEl:l}){const{props:a,proxy:i,emit:o}=_e(),u=W(null);let s=null;function f(d){return u.value===null?!1:d===void 0||d.touches===void 0||d.touches.length<=1}const m={};l===void 0&&(Object.assign(m,{hide(d){i.hide(d)},toggle(d){i.toggle(d),d.qAnchorHandled=!0},toggleKey(d){Et(d,13)===!0&&m.toggle(d)},contextClick(d){i.hide(d),tt(d),Ce(()=>{i.show(d),d.qAnchorHandled=!0})},prevent:tt,mobileTouch(d){if(m.mobileCleanup(d),f(d)!==!0)return;i.hide(d),u.value.classList.add("non-selectable");const k=d.target;ll(m,"anchor",[[k,"touchmove","mobileCleanup","passive"],[k,"touchend","mobileCleanup","passive"],[k,"touchcancel","mobileCleanup","passive"],[u.value,"contextmenu","prevent","notPassive"]]),s=setTimeout(()=>{s=null,i.show(d),d.qAnchorHandled=!0},300)},mobileCleanup(d){u.value.classList.remove("non-selectable"),s!==null&&(clearTimeout(s),s=null),e.value===!0&&d!==void 0&&xa()}}),l=function(d=a.contextMenu){if(a.noParentEvent===!0||u.value===null)return;let k;d===!0?i.$q.platform.is.mobile===!0?k=[[u.value,"touchstart","mobileTouch","passive"]]:k=[[u.value,"mousedown","hide","passive"],[u.value,"contextmenu","contextClick","notPassive"]]:k=[[u.value,"click","toggle","passive"],[u.value,"keyup","toggleKey","passive"]],ll(m,"anchor",k)});function c(){kn(m,"anchor")}function v(d){for(u.value=d;u.value.classList.contains("q-anchor--skip");)u.value=u.value.parentNode;l()}function g(){if(a.target===!1||a.target===""||i.$el.parentNode===null)u.value=null;else if(a.target===!0)v(i.$el.parentNode);else{let d=a.target;if(typeof a.target=="string")try{d=document.querySelector(a.target)}catch{d=void 0}d!=null?(u.value=d.$el||d,l()):(u.value=null,console.error(`Anchor: target "${a.target}" not found`))}}return ve(()=>a.contextMenu,d=>{u.value!==null&&(c(),l(d))}),ve(()=>a.target,()=>{u.value!==null&&c(),g()}),ve(()=>a.noParentEvent,d=>{u.value!==null&&(d===!0?c():l())}),yl(()=>{g(),t!==!0&&a.modelValue===!0&&u.value===null&&o("update:modelValue",!1)}),Ee(()=>{s!==null&&clearTimeout(s),c()}),{anchorEl:u,canShow:f,anchorEvents:m}}function pa(e,t){const l=W(null);let a;function i(s,f){const m=`${f!==void 0?"add":"remove"}EventListener`,c=f!==void 0?f:a;s!==window&&s[m]("scroll",c,Vt.passive),window[m]("scroll",c,Vt.passive),a=f}function o(){l.value!==null&&(i(l.value),l.value=null)}const u=ve(()=>e.noParentEvent,()=>{l.value!==null&&(o(),t())});return Ee(u),{localScrollTarget:l,unconfigureScrollTarget:o,changeScrollEvent:i}}const{notPassiveCapture:ft}=Vt,Oe=[];function vt(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let l=al.length-1;for(;l>=0;){const a=al[l].$;if(a.type.name==="QTooltip"){l--;continue}if(a.type.name!=="QDialog")break;if(a.props.seamless!==!0)return;l--}for(let a=Oe.length-1;a>=0;a--){const i=Oe[a];if((i.anchorEl.value===null||i.anchorEl.value.contains(t)===!1)&&(t===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(t)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function qa(e){Oe.push(e),Oe.length===1&&(document.addEventListener("mousedown",vt,ft),document.addEventListener("touchstart",vt,ft))}function cl(e){const t=Oe.findIndex(l=>l===e);t!==-1&&(Oe.splice(t,1),Oe.length===0&&(document.removeEventListener("mousedown",vt,ft),document.removeEventListener("touchstart",vt,ft)))}let dl,fl;function vl(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function $a(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const At={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{At[`${e}#ltr`]=e,At[`${e}#rtl`]=e});function ml(e,t){const l=e.split(" ");return{vertical:l[0],horizontal:At[`${l[1]}#${t===!0?"rtl":"ltr"}`]}}function Va(e,t){let{top:l,left:a,right:i,bottom:o,width:u,height:s}=e.getBoundingClientRect();return t!==void 0&&(l-=t[1],a-=t[0],o+=t[1],i+=t[0],u+=t[0],s+=t[1]),{top:l,bottom:o,height:s,left:a,right:i,width:u,middle:a+(i-a)/2,center:l+(o-l)/2}}function Ma(e,t,l){let{top:a,left:i}=e.getBoundingClientRect();return a+=t.top,i+=t.left,l!==void 0&&(a+=l[1],i+=l[0]),{top:a,bottom:a+1,height:1,left:i,right:i+1,width:1,middle:i,center:a}}function La(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function gl(e,t,l,a){return{top:e[l.vertical]-t[a.vertical],left:e[l.horizontal]-t[a.horizontal]}}function Dl(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Dl(e,t+1)},10);return}const{targetEl:l,offset:a,anchorEl:i,anchorOrigin:o,selfOrigin:u,absoluteOffset:s,fit:f,cover:m,maxHeight:c,maxWidth:v}=e;if(Cn.is.ios===!0&&window.visualViewport!==void 0){const H=document.body.style,{offsetLeft:Y,offsetTop:M}=window.visualViewport;Y!==dl&&(H.setProperty("--q-pe-left",Y+"px"),dl=Y),M!==fl&&(H.setProperty("--q-pe-top",M+"px"),fl=M)}const{scrollLeft:g,scrollTop:d}=l,k=s===void 0?Va(i,m===!0?[0,0]:a):Ma(i,s,a);Object.assign(l.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:v||"100vw",maxHeight:c||"100vh",visibility:"visible"});const{offsetWidth:A,offsetHeight:$}=l,{elWidth:U,elHeight:G}=f===!0||m===!0?{elWidth:Math.max(k.width,A),elHeight:m===!0?Math.max(k.height,$):$}:{elWidth:A,elHeight:$};let w={maxWidth:v,maxHeight:c};(f===!0||m===!0)&&(w.minWidth=k.width+"px",m===!0&&(w.minHeight=k.height+"px")),Object.assign(l.style,w);const b=La(U,G);let D=gl(k,b,o,u);if(s===void 0||a===void 0)pt(D,k,b,o,u);else{const{top:H,left:Y}=D;pt(D,k,b,o,u);let M=!1;if(D.top!==H){M=!0;const J=2*a[1];k.center=k.top-=J,k.bottom-=J+2}if(D.left!==Y){M=!0;const J=2*a[0];k.middle=k.left-=J,k.right-=J+2}M===!0&&(D=gl(k,b,o,u),pt(D,k,b,o,u))}w={top:D.top+"px",left:D.left+"px"},D.maxHeight!==void 0&&(w.maxHeight=D.maxHeight+"px",k.height>D.maxHeight&&(w.minHeight=w.maxHeight)),D.maxWidth!==void 0&&(w.maxWidth=D.maxWidth+"px",k.width>D.maxWidth&&(w.minWidth=w.maxWidth)),Object.assign(l.style,w),l.scrollTop!==d&&(l.scrollTop=d),l.scrollLeft!==g&&(l.scrollLeft=g)}function pt(e,t,l,a,i){const o=l.bottom,u=l.right,s=pn(),f=window.innerHeight-s,m=document.body.clientWidth;if(e.top<0||e.top+o>f)if(i.vertical==="center")e.top=t[a.vertical]>f/2?Math.max(0,f-o):0,e.maxHeight=Math.min(o,f);else if(t[a.vertical]>f/2){const c=Math.min(f,a.vertical==="center"?t.center:a.vertical===i.vertical?t.bottom:t.top);e.maxHeight=Math.min(o,c),e.top=Math.max(0,c-o)}else e.top=Math.max(0,a.vertical==="center"?t.center:a.vertical===i.vertical?t.top:t.bottom),e.maxHeight=Math.min(o,f-e.top);if(e.left<0||e.left+u>m)if(e.maxWidth=Math.min(u,m),i.horizontal==="middle")e.left=t[a.horizontal]>m/2?Math.max(0,m-u):0;else if(t[a.horizontal]>m/2){const c=Math.min(m,a.horizontal==="middle"?t.middle:a.horizontal===i.horizontal?t.right:t.left);e.maxWidth=Math.min(u,c),e.left=Math.max(0,c-e.maxWidth)}else e.left=Math.max(0,a.horizontal==="middle"?t.middle:a.horizontal===i.horizontal?t.left:t.right),e.maxWidth=Math.min(u,m-e.left)}const zl=ge({name:"QMenu",inheritAttrs:!1,props:{...ka,...$l,...Ye,...Hn,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:vl},self:{type:String,validator:vl},offset:{type:Array,validator:$a},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Vl,"click","escapeKey"],setup(e,{slots:t,emit:l,attrs:a}){let i=null,o,u,s;const f=_e(),{proxy:m}=f,{$q:c}=m,v=W(null),g=W(!1),d=S(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),k=Xe(e,c),{registerTick:A,removeTick:$}=Dn(),{registerTimeout:U}=Mt(),{transitionProps:G,transitionStyle:w}=zn(e),{localScrollTarget:b,changeScrollEvent:D,unconfigureScrollTarget:H}=pa(e,T),{anchorEl:Y,canShow:M}=Ca({showing:g}),{hide:J}=Ml({showing:g,canShow:M,handleShow:O,handleHide:r,hideOnRouteChange:d,processOnMount:!0}),{showPortal:Q,hidePortal:z,renderPortal:le}=Fn(f,v,ne,"menu"),R={anchorEl:Y,innerRef:v,onClickOutside(p){if(e.persistent!==!0&&g.value===!0)return J(p),(p.type==="touchstart"||p.target.classList.contains("q-dialog__backdrop"))&&be(p),!0}},I=S(()=>ml(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),C=S(()=>e.cover===!0?I.value:ml(e.self||"top start",c.lang.rtl)),_=S(()=>(e.square===!0?" q-menu--square":"")+(k.value===!0?" q-menu--dark q-dark":"")),h=S(()=>e.autoClose===!0?{onClick:N}:{}),x=S(()=>g.value===!0&&e.persistent!==!0);ve(x,p=>{p===!0?(Wn(P),qa(R)):(il(P),cl(R))});function B(){jn(()=>{let p=v.value;p&&p.contains(document.activeElement)!==!0&&(p=p.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||p.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||p.querySelector("[autofocus], [data-autofocus]")||p,p.focus({preventScroll:!0}))})}function O(p){if(i=e.noRefocus===!1?document.activeElement:null,Rn(X),Q(),T(),o=void 0,p!==void 0&&(e.touchPosition||e.contextMenu)){const Z=qn(p);if(Z.left!==void 0){const{top:se,left:ye}=Y.value.getBoundingClientRect();o={left:Z.left-ye,top:Z.top-se}}}u===void 0&&(u=ve(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,E)),e.noFocus!==!0&&document.activeElement.blur(),A(()=>{E(),e.noFocus!==!0&&B()}),U(()=>{c.platform.is.ios===!0&&(s=e.autoClose,v.value.click()),E(),Q(!0),l("show",p)},e.transitionDuration)}function r(p){$(),z(),y(!0),i!==null&&(p===void 0||p.qClickOutside!==!0)&&(((p&&p.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),U(()=>{z(!0),l("hide",p)},e.transitionDuration)}function y(p){o=void 0,u!==void 0&&(u(),u=void 0),(p===!0||g.value===!0)&&(Nn(X),H(),cl(R),il(P)),p!==!0&&(i=null)}function T(){(Y.value!==null||e.scrollTarget!==void 0)&&(b.value=$n(Y.value,e.scrollTarget),D(b.value,E))}function N(p){s!==!0?(Pn(m,p),l("click",p)):s=!1}function X(p){x.value===!0&&e.noFocus!==!0&&Vn(v.value,p.target)!==!0&&B()}function P(p){l("escapeKey"),J(p)}function E(){Dl({targetEl:v.value,offset:e.offset,anchorEl:Y.value,anchorOrigin:I.value,selfOrigin:C.value,absoluteOffset:o,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ne(){return q(Tt,G.value,()=>g.value===!0?q("div",{role:"menu",...a,ref:v,tabindex:-1,class:["q-menu q-position-engine scroll"+_.value,a.class],style:[a.style,w.value],...h.value},ze(t.default)):null)}return Ee(y),Object.assign(m,{focus:B,updatePosition:E}),le}});function lt(e,t=new WeakMap){if(Object(e)!==e)return e;if(t.has(e))return t.get(e);const l=e instanceof Date?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e instanceof Set?new Set:e instanceof Map?new Map:typeof e.constructor!="function"?Object.create(null):e.prototype!==void 0&&typeof e.prototype.constructor=="function"?e:new e.constructor;if(typeof e.constructor=="function"&&typeof e.valueOf=="function"){const a=e.valueOf();if(Object(a)!==a){const i=new e.constructor(a);return t.set(e,i),i}}return t.set(e,l),e instanceof Set?e.forEach(a=>{l.add(lt(a,t))}):e instanceof Map&&e.forEach((a,i)=>{l.set(i,lt(a,t))}),Object.assign(l,...Object.keys(e).map(a=>({[a]:lt(e[a],t)})))}const It=ge({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:l}){const{proxy:a}=_e(),{$q:i}=a,o=W(null),u=W(""),s=W("");let f=!1;const m=S(()=>Mn({initialValue:u.value,validate:e.validate,set:c,cancel:v,updatePosition:g},"value",()=>s.value,b=>{s.value=b}));function c(){e.validate(s.value)!==!1&&(d()===!0&&(l("save",s.value,u.value),l("update:modelValue",s.value)),k())}function v(){d()===!0&&l("cancel",s.value,u.value),k()}function g(){Ce(()=>{o.value.updatePosition()})}function d(){return Qe(s.value,u.value)===!1}function k(){f=!0,o.value.hide()}function A(){f=!1,u.value=lt(e.modelValue),s.value=lt(e.modelValue),l("beforeShow")}function $(){l("show")}function U(){f===!1&&d()===!0&&(e.autoSave===!0&&e.validate(s.value)===!0?(l("save",s.value,u.value),l("update:modelValue",s.value)):l("cancel",s.value,u.value)),l("beforeHide")}function G(){l("hide")}function w(){const b=t.default!==void 0?[].concat(t.default(m.value)):[];return e.title&&b.unshift(q("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},e.title)),e.buttons===!0&&b.push(q("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[q(ct,{flat:!0,color:e.color,label:e.labelCancel||i.lang.label.cancel,onClick:v}),q(ct,{flat:!0,color:e.color,label:e.labelSet||i.lang.label.set,onClick:c})])),b}return Object.assign(a,{set:c,cancel:v,show(b){o.value!==null&&o.value.show(b)},hide(b){o.value!==null&&o.value.hide(b)},updatePosition:g}),()=>{if(e.disable!==!0)return q(zl,{ref:o,class:"q-popup-edit",cover:e.cover,onBeforeShow:A,onShow:$,onBeforeHide:U,onHide:G,onEscapeKey:v},w)}}}),Aa=Se({__name:"TagsEditor",props:{data:{},description:{}},setup(e){const t=e;return(l,a)=>(F(),te(Ve,null,{default:K(()=>[ee(we,null,{default:K(()=>[re(ue(t.description.label),1)]),_:1}),ee(we,{class:"row q-g-2"},{default:K(()=>[(F(!0),fe(He,null,De(t.data,(i,o)=>(F(),te(bt,{dense:"",outline:""},{default:K(()=>[re(ue(i)+" ",1),ee(It,{modelValue:t.data[o],"onUpdate:modelValue":u=>t.data[o]=u,"auto-save":""},{default:K(u=>[ee(dt,{modelValue:u.value,"onUpdate:modelValue":s=>u.value=s,dense:"",autofocus:"",onKeyup:$t(u.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024))),256))]),_:1})]),_:1}))}}),Ia=["horizontal","vertical","cell","none"],Ta=ge({name:"QMarkupTable",props:{...Ye,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Ia.includes(e)}},setup(e,{slots:t}){const l=_e(),a=Xe(e,l.proxy.$q),i=S(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(a.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>q("div",{class:i.value},[q("table",{class:"q-table"},ze(t.default))])}}),Ba=qe("thead",null,[qe("th",null,"eposide"),qe("th",null,"timestamp")],-1),Oa={class:"text-center"},Ea={class:"text-center"},Ha=Se({__name:"EposideEditor",props:{data:{},description:{}},setup(e){const t=e;return(l,a)=>(F(),te(Ve,{class:"q-m-md bordered"},{default:K(()=>[t.description.label?(F(),te(we,{key:0},{default:K(()=>[re(ue(t.description.label),1)]),_:1})):de("",!0),ee(we,null,{default:K(()=>[ee(Ta,{bordered:"",flat:""},{default:K(()=>[Ba,qe("tbody",null,[(F(!0),fe(He,null,De(t.data,(i,o)=>(F(),fe("tr",null,[qe("td",Oa,[re(ue(i.timestamp)+" ",1),ee(It,{modelValue:t.data[o].timestamp,"onUpdate:modelValue":u=>t.data[o].timestamp=u,"auto-save":""},{default:K(u=>[ee(dt,{modelValue:u.value,"onUpdate:modelValue":s=>u.value=s,dense:"",autofocus:"",onKeyup:$t(u.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),qe("td",Ea,[re(ue(i.eposide)+" ",1),ee(It,{modelValue:t.data[o].eposide,"onUpdate:modelValue":u=>t.data[o].eposide=u,"auto-save":""},{default:K(u=>[ee(dt,{modelValue:u.value,"onUpdate:modelValue":s=>u.value=s,dense:"",autofocus:"",onKeyup:$t(u.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue"])])]))),256))])]),_:1})]),_:1})]),_:1}))}}),Da=ge({name:"QField",inheritAttrs:!1,props:{...Ht,tag:{type:String,default:"label"}},emits:Ll,setup(){return Al(Il({requiredForAttr:!1,tagProp:!0}))}});let mt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,mt=e.scrollLeft>=0,e.remove()}const xe=1e3,za=["start","center","end","start-force","center-force","end-force"],Fl=Array.prototype.filter,Fa=window.getComputedStyle(document.body).overflowAnchor===void 0?Ln:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const l=e.children||[];Fl.call(l,i=>i.dataset&&i.dataset.qVsAnchor!==void 0).forEach(i=>{delete i.dataset.qVsAnchor});const a=l[t];a&&a.dataset&&(a.dataset.qVsAnchor="")}))};function Ue(e,t){return e+t}function qt(e,t,l,a,i,o,u,s){const f=e===window?document.scrollingElement||document.documentElement:e,m=i===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-u-s,scrollMaxSize:0,offsetStart:-u,offsetEnd:-s};if(i===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=f.scrollLeft,c.scrollViewSize+=f.clientWidth),c.scrollMaxSize=f.scrollWidth,o===!0&&(c.scrollStart=(mt===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=f.scrollTop,c.scrollViewSize+=f.clientHeight),c.scrollMaxSize=f.scrollHeight),l!==null)for(let v=l.previousElementSibling;v!==null;v=v.previousElementSibling)v.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=v[m]);if(a!==null)for(let v=a.nextElementSibling;v!==null;v=v.nextElementSibling)v.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=v[m]);if(t!==e){const v=f.getBoundingClientRect(),g=t.getBoundingClientRect();i===!0?(c.offsetStart+=g.left-v.left,c.offsetEnd-=g.width):(c.offsetStart+=g.top-v.top,c.offsetEnd-=g.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function hl(e,t,l,a){t==="end"&&(t=(e===window?document.body:e)[l===!0?"scrollWidth":"scrollHeight"]),e===window?l===!0?(a===!0&&(t=(mt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):l===!0?(a===!0&&(t=(mt===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function et(e,t,l,a){if(l>=a)return 0;const i=t.length,o=Math.floor(l/xe),u=Math.floor((a-1)/xe)+1;let s=e.slice(o,u).reduce(Ue,0);return l%xe!==0&&(s-=t.slice(o*xe,l).reduce(Ue,0)),a%xe!==0&&a!==i&&(s-=t.slice(a,u*xe).reduce(Ue,0)),s}const Ra={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Na={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Ra};function Pa({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:l,virtualScrollItemSizeComputed:a}){const i=_e(),{props:o,emit:u,proxy:s}=i,{$q:f}=s;let m,c,v,g=[],d;const k=W(0),A=W(0),$=W({}),U=W(null),G=W(null),w=W(null),b=W({from:0,to:0}),D=S(()=>o.tableColspan!==void 0?o.tableColspan:100);a===void 0&&(a=S(()=>o.virtualScrollItemSize));const H=S(()=>a.value+";"+o.virtualScrollHorizontal),Y=S(()=>H.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);ve(Y,()=>{_()}),ve(H,M);function M(){C(c,!0)}function J(r){C(r===void 0?c:r)}function Q(r,y){const T=t();if(T==null||T.nodeType===8)return;const N=qt(T,l(),U.value,G.value,o.virtualScrollHorizontal,f.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);v!==N.scrollViewSize&&_(N.scrollViewSize),le(T,N,Math.min(e.value-1,Math.max(0,parseInt(r,10)||0)),0,za.indexOf(y)!==-1?y:c!==-1&&r>c?"end":"start")}function z(){const r=t();if(r==null||r.nodeType===8)return;const y=qt(r,l(),U.value,G.value,o.virtualScrollHorizontal,f.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),T=e.value-1,N=y.scrollMaxSize-y.offsetStart-y.offsetEnd-A.value;if(m===y.scrollStart)return;if(y.scrollMaxSize<=0){le(r,y,0,0);return}v!==y.scrollViewSize&&_(y.scrollViewSize),R(b.value.from);const X=Math.floor(y.scrollMaxSize-Math.max(y.scrollViewSize,y.offsetEnd)-Math.min(d[T],y.scrollViewSize/2));if(X>0&&Math.ceil(y.scrollStart)>=X){le(r,y,T,y.scrollMaxSize-y.offsetEnd-g.reduce(Ue,0));return}let P=0,E=y.scrollStart-y.offsetStart,ne=E;if(E<=N&&E+y.scrollViewSize>=k.value)E-=k.value,P=b.value.from,ne=E;else for(let p=0;E>=g[p]&&P<T;p++)E-=g[p],P+=xe;for(;E>0&&P<T;)E-=d[P],E>-y.scrollViewSize?(P++,ne=E):ne=d[P]+E;le(r,y,P,ne)}function le(r,y,T,N,X){const P=typeof X=="string"&&X.indexOf("-force")!==-1,E=P===!0?X.replace("-force",""):X,ne=E!==void 0?E:"start";let p=Math.max(0,T-$.value[ne]),Z=p+$.value.total;Z>e.value&&(Z=e.value,p=Math.max(0,Z-$.value.total)),m=y.scrollStart;const se=p!==b.value.from||Z!==b.value.to;if(se===!1&&E===void 0){x(T);return}const{activeElement:ye}=document,me=w.value;se===!0&&me!==null&&me!==ye&&me.contains(ye)===!0&&(me.addEventListener("focusout",I),setTimeout(()=>{me!==null&&me.removeEventListener("focusout",I)})),Fa(me,T-p);const nt=E!==void 0?d.slice(p,T).reduce(Ue,0):0;if(se===!0){const Me=Z>=b.value.from&&p<=b.value.to?b.value.to:Z;b.value={from:p,to:Me},k.value=et(g,d,0,p),A.value=et(g,d,Z,e.value),requestAnimationFrame(()=>{b.value.to!==Z&&m===y.scrollStart&&(b.value={from:b.value.from,to:Z},A.value=et(g,d,Z,e.value))})}requestAnimationFrame(()=>{if(m!==y.scrollStart)return;se===!0&&R(p);const Me=d.slice(p,T).reduce(Ue,0),Le=Me+y.offsetStart+k.value,at=Le+d[T];let Ge=Le+N;if(E!==void 0){const St=Me-nt,Je=y.scrollStart+St;Ge=P!==!0&&Je<Le&&at<Je+y.scrollViewSize?Je:E==="end"?at-y.scrollViewSize:Le-(E==="start"?0:Math.round((y.scrollViewSize-d[T])/2))}m=Ge,hl(r,Ge,o.virtualScrollHorizontal,f.lang.rtl),x(T)})}function R(r){const y=w.value;if(y){const T=Fl.call(y.children,p=>p.classList&&p.classList.contains("q-virtual-scroll--skip")===!1),N=T.length,X=o.virtualScrollHorizontal===!0?p=>p.getBoundingClientRect().width:p=>p.offsetHeight;let P=r,E,ne;for(let p=0;p<N;){for(E=X(T[p]),p++;p<N&&T[p].classList.contains("q-virtual-scroll--with-prev")===!0;)E+=X(T[p]),p++;ne=E-d[P],ne!==0&&(d[P]+=ne,g[Math.floor(P/xe)]+=ne),P++}}}function I(){w.value!==null&&w.value!==void 0&&w.value.focus()}function C(r,y){const T=1*a.value;(y===!0||Array.isArray(d)===!1)&&(d=[]);const N=d.length;d.length=e.value;for(let P=e.value-1;P>=N;P--)d[P]=T;const X=Math.floor((e.value-1)/xe);g=[];for(let P=0;P<=X;P++){let E=0;const ne=Math.min((P+1)*xe,e.value);for(let p=P*xe;p<ne;p++)E+=d[p];g.push(E)}c=-1,m=void 0,k.value=et(g,d,0,b.value.from),A.value=et(g,d,b.value.to,e.value),r>=0?(R(b.value.from),Ce(()=>{Q(r)})):B()}function _(r){if(r===void 0&&typeof window<"u"){const E=t();E!=null&&E.nodeType!==8&&(r=qt(E,l(),U.value,G.value,o.virtualScrollHorizontal,f.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}v=r;const y=parseFloat(o.virtualScrollSliceRatioBefore)||0,T=parseFloat(o.virtualScrollSliceRatioAfter)||0,N=1+y+T,X=r===void 0||r<=0?1:Math.ceil(r/a.value),P=Math.max(1,X,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/N));$.value={total:Math.ceil(P*N),start:Math.ceil(P*y),center:Math.ceil(P*(.5+y)),end:Math.ceil(P*(1+y)),view:X}}function h(r,y){const T=o.virtualScrollHorizontal===!0?"width":"height",N={["--q-virtual-scroll-item-"+T]:a.value+"px"};return[r==="tbody"?q(r,{class:"q-virtual-scroll__padding",key:"before",ref:U},[q("tr",[q("td",{style:{[T]:`${k.value}px`,...N},colspan:D.value})])]):q(r,{class:"q-virtual-scroll__padding",key:"before",ref:U,style:{[T]:`${k.value}px`,...N}}),q(r,{class:"q-virtual-scroll__content",key:"content",ref:w,tabindex:-1},y.flat()),r==="tbody"?q(r,{class:"q-virtual-scroll__padding",key:"after",ref:G},[q("tr",[q("td",{style:{[T]:`${A.value}px`,...N},colspan:D.value})])]):q(r,{class:"q-virtual-scroll__padding",key:"after",ref:G,style:{[T]:`${A.value}px`,...N}})]}function x(r){c!==r&&(o.onVirtualScroll!==void 0&&u("virtualScroll",{index:r,from:b.value.from,to:b.value.to-1,direction:r<c?"decrease":"increase",ref:s}),c=r)}_();const B=An(z,f.platform.is.ios===!0?120:35);rn(()=>{_()});let O=!1;return sn(()=>{O=!0}),cn(()=>{if(O!==!0)return;const r=t();m!==void 0&&r!==void 0&&r!==null&&r.nodeType!==8?hl(r,m,o.virtualScrollHorizontal,f.lang.rtl):Q(c)}),Ee(()=>{B.cancel()}),Object.assign(s,{scrollTo:Q,reset:M,refresh:J}),{virtualScrollSliceRange:b,virtualScrollSliceSizeComputed:$,setVirtualScrollSize:_,onVirtualScrollEvt:B,localResetVirtualScroll:C,padVirtualScroll:h,scrollTo:Q,reset:M,refresh:J}}const bl=e=>["add","add-unique","toggle"].includes(e),ja=".*+?^${}()|[]\\",Wa=Object.keys(Ht),Ka=ge({name:"QSelect",inheritAttrs:!1,props:{...Na,...Cl,...Ht,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:bl},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Ll,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:t,emit:l}){const{proxy:a}=_e(),{$q:i}=a,o=W(!1),u=W(!1),s=W(-1),f=W(""),m=W(!1),c=W(!1);let v=null,g=null,d,k,A,$=null,U,G,w,b;const D=W(null),H=W(null),Y=W(null),M=W(null),J=W(null),Q=Kn(e),z=Qn(Gt),le=S(()=>Array.isArray(e.options)?e.options.length:0),R=S(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:I,virtualScrollSliceSizeComputed:C,localResetVirtualScroll:_,padVirtualScroll:h,onVirtualScrollEvt:x,scrollTo:B,setVirtualScrollSize:O}=Pa({virtualScrollLength:le,getVirtualScrollTarget:Wl,getVirtualScrollEl:Yt,virtualScrollItemSizeComputed:R}),r=Il(),y=S(()=>{const n=e.mapOptions===!0&&e.multiple!==!0,L=e.modelValue!==void 0&&(e.modelValue!==null||n===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const V=e.mapOptions===!0&&d!==void 0?d:[],j=L.map(ie=>jl(ie,V));return e.modelValue===null&&n===!0?j.filter(ie=>ie!==null):j}return L}),T=S(()=>{const n={};return Wa.forEach(L=>{const V=e[L];V!==void 0&&(n[L]=V)}),n}),N=S(()=>e.optionsDark===null?r.isDark.value:e.optionsDark),X=S(()=>ol(y.value)),P=S(()=>{let n="q-field__input q-placeholder col";return e.hideSelected===!0||y.value.length===0?[n,e.inputClass]:(n+=" q-field__input--padding",e.inputClass===void 0?n:[n,e.inputClass])}),E=S(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),ne=S(()=>le.value===0),p=S(()=>y.value.map(n=>he.value(n)).join(", ")),Z=S(()=>e.displayValue!==void 0?e.displayValue:p.value),se=S(()=>e.optionsHtml===!0?()=>!0:n=>n!=null&&n.html===!0),ye=S(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||y.value.some(se.value))),me=S(()=>r.focused.value===!0?e.tabindex:-1),nt=S(()=>{const n={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-controls":`${r.targetUid.value}_lb`};return s.value>=0&&(n["aria-activedescendant"]=`${r.targetUid.value}_${s.value}`),n}),Me=S(()=>({id:`${r.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Le=S(()=>y.value.map((n,L)=>({index:L,opt:n,html:se.value(n),selected:!0,removeAtIndex:Pl,toggleOption:Ae,tabindex:me.value}))),at=S(()=>{if(le.value===0)return[];const{from:n,to:L}=I.value;return e.options.slice(n,L).map((V,j)=>{const ie=Fe.value(V)===!0,ae=_t(V)===!0,ce=n+j,oe={clickable:!0,active:ae,activeClass:Je.value,manualFocus:!0,focused:!1,disable:ie,tabindex:-1,dense:e.optionsDense,dark:N.value,role:"option","aria-selected":ae===!0?"true":"false",id:`${r.targetUid.value}_${ce}`,onClick:()=>{Ae(V)}};return ie!==!0&&(s.value===ce&&(oe.focused=!0),i.platform.is.desktop===!0&&(oe.onMousemove=()=>{o.value===!0&&Re(ce)})),{index:ce,opt:V,html:se.value(V),label:he.value(V),selected:oe.active,focused:oe.focused,toggleOption:Ae,setOptionIndex:Re,itemProps:oe}})}),Ge=S(()=>e.dropdownIcon!==void 0?e.dropdownIcon:i.iconSet.arrow.dropdown),St=S(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Je=S(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ke=S(()=>wt(e.optionValue,"value")),he=S(()=>wt(e.optionLabel,"label")),Fe=S(()=>wt(e.optionDisable,"disable")),it=S(()=>y.value.map(n=>ke.value(n))),Nl=S(()=>{const n={onInput:Gt,onChange:z,onKeydown:Ut,onKeyup:Kt,onKeypress:Qt,onFocus:jt,onClick(L){k===!0&&Ke(L)}};return n.onCompositionstart=n.onCompositionupdate=n.onCompositionend=z,n});ve(y,n=>{d=n,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&r.innerLoading.value!==!0&&(u.value!==!0&&o.value!==!0||X.value!==!0)&&(A!==!0&&We(),(u.value===!0||o.value===!0)&&Ne(""))},{immediate:!0}),ve(()=>e.fillInput,We),ve(o,xt),ve(le,nn);function Nt(n){return e.emitValue===!0?ke.value(n):n}function yt(n){if(n!==-1&&n<y.value.length)if(e.multiple===!0){const L=e.modelValue.slice();l("remove",{index:n,value:L.splice(n,1)[0]}),l("update:modelValue",L)}else l("update:modelValue",null)}function Pl(n){yt(n),r.focus()}function Pt(n,L){const V=Nt(n);if(e.multiple!==!0){e.fillInput===!0&&Ze(he.value(n),!0,!0),l("update:modelValue",V);return}if(y.value.length===0){l("add",{index:0,value:V}),l("update:modelValue",e.multiple===!0?[V]:V);return}if(L===!0&&_t(n)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const j=e.modelValue.slice();l("add",{index:j.length,value:V}),j.push(V),l("update:modelValue",j)}function Ae(n,L){if(r.editable.value!==!0||n===void 0||Fe.value(n)===!0)return;const V=ke.value(n);if(e.multiple!==!0){L!==!0&&(Ze(e.fillInput===!0?he.value(n):"",!0,!0),Ie()),H.value!==null&&H.value.focus(),(y.value.length===0||Qe(ke.value(y.value[0]),V)!==!0)&&l("update:modelValue",e.emitValue===!0?V:n);return}if((k!==!0||m.value===!0)&&r.focus(),jt(),y.value.length===0){const ae=e.emitValue===!0?V:n;l("add",{index:0,value:ae}),l("update:modelValue",e.multiple===!0?[ae]:ae);return}const j=e.modelValue.slice(),ie=it.value.findIndex(ae=>Qe(ae,V));if(ie!==-1)l("remove",{index:ie,value:j.splice(ie,1)[0]});else{if(e.maxValues!==void 0&&j.length>=e.maxValues)return;const ae=e.emitValue===!0?V:n;l("add",{index:j.length,value:ae}),j.push(ae)}l("update:modelValue",j)}function Re(n){if(i.platform.is.desktop!==!0)return;const L=n!==-1&&n<le.value?n:-1;s.value!==L&&(s.value=L)}function ot(n=1,L){if(o.value===!0){let V=s.value;do V=sl(V+n,-1,le.value-1);while(V!==-1&&V!==s.value&&Fe.value(e.options[V])===!0);s.value!==V&&(Re(V),B(V),L!==!0&&e.useInput===!0&&e.fillInput===!0&&ut(V>=0?he.value(e.options[V]):U,!0))}}function jl(n,L){const V=j=>Qe(ke.value(j),n);return e.options.find(V)||L.find(V)||n}function wt(n,L){const V=n!==void 0?n:L;return typeof V=="function"?V:j=>j!==null&&typeof j=="object"&&V in j?j[V]:j}function _t(n){const L=ke.value(n);return it.value.find(V=>Qe(V,L))!==void 0}function jt(n){e.useInput===!0&&H.value!==null&&(n===void 0||H.value===n.target&&n.target.value===p.value)&&H.value.select()}function Wt(n){Et(n,27)===!0&&o.value===!0&&(Ke(n),Ie(),We()),l("keyup",n)}function Kt(n){const{value:L}=n.target;if(n.keyCode!==void 0){Wt(n);return}if(n.target.value="",v!==null&&(clearTimeout(v),v=null),g!==null&&(clearTimeout(g),g=null),We(),typeof L=="string"&&L.length!==0){const V=L.toLocaleLowerCase(),j=ae=>{const ce=e.options.find(oe=>ae.value(oe).toLocaleLowerCase()===V);return ce===void 0?!1:(y.value.indexOf(ce)===-1?Ae(ce):Ie(),!0)},ie=ae=>{j(ke)!==!0&&(j(he)===!0||ae===!0||Ne(L,!0,()=>ie(!0)))};ie()}else r.clearValue(n)}function Qt(n){l("keypress",n)}function Ut(n){if(l("keydown",n),In(n)===!0)return;const L=f.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),V=n.shiftKey!==!0&&e.multiple!==!0&&(s.value!==-1||L===!0);if(n.keyCode===27){tt(n);return}if(n.keyCode===9&&V===!1){Pe();return}if(n.target===void 0||n.target.id!==r.targetUid.value||r.editable.value!==!0)return;if(n.keyCode===40&&r.innerLoading.value!==!0&&o.value===!1){be(n),je();return}if(n.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&f.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?yt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&l("update:modelValue",null);return}(n.keyCode===35||n.keyCode===36)&&(typeof f.value!="string"||f.value.length===0)&&(be(n),s.value=-1,ot(n.keyCode===36?1:-1,e.multiple)),(n.keyCode===33||n.keyCode===34)&&C.value!==void 0&&(be(n),s.value=Math.max(-1,Math.min(le.value,s.value+(n.keyCode===33?-1:1)*C.value.view)),ot(n.keyCode===33?1:-1,e.multiple)),(n.keyCode===38||n.keyCode===40)&&(be(n),ot(n.keyCode===38?-1:1,e.multiple));const j=le.value;if((w===void 0||b<Date.now())&&(w=""),j>0&&e.useInput!==!0&&n.key!==void 0&&n.key.length===1&&n.altKey===!1&&n.ctrlKey===!1&&n.metaKey===!1&&(n.keyCode!==32||w.length!==0)){o.value!==!0&&je(n);const ie=n.key.toLocaleLowerCase(),ae=w.length===1&&w[0]===ie;b=Date.now()+1500,ae===!1&&(be(n),w+=ie);const ce=new RegExp("^"+w.split("").map(kt=>ja.indexOf(kt)!==-1?"\\"+kt:kt).join(".*"),"i");let oe=s.value;if(ae===!0||oe<0||ce.test(he.value(e.options[oe]))!==!0)do oe=sl(oe+1,-1,j-1);while(oe!==s.value&&(Fe.value(e.options[oe])===!0||ce.test(he.value(e.options[oe]))!==!0));s.value!==oe&&Ce(()=>{Re(oe),B(oe),oe>=0&&e.useInput===!0&&e.fillInput===!0&&ut(he.value(e.options[oe]),!0)});return}if(!(n.keyCode!==13&&(n.keyCode!==32||e.useInput===!0||w!=="")&&(n.keyCode!==9||V===!1))){if(n.keyCode!==9&&be(n),s.value!==-1&&s.value<j){Ae(e.options[s.value]);return}if(L===!0){const ie=(ae,ce)=>{if(ce){if(bl(ce)!==!0)return}else ce=e.newValueMode;if(Ze("",e.multiple!==!0,!0),ae==null)return;(ce==="toggle"?Ae:Pt)(ae,ce==="add-unique"),e.multiple!==!0&&(H.value!==null&&H.value.focus(),Ie())};if(e.onNewValue!==void 0?l("newValue",f.value,ie):ie(f.value),e.multiple!==!0)return}o.value===!0?Pe():r.innerLoading.value!==!0&&je()}}function Yt(){return k===!0?J.value:Y.value!==null&&Y.value.contentEl!==null?Y.value.contentEl:void 0}function Wl(){return Yt()}function Kl(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?Le.value.map(n=>t["selected-item"](n)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?Le.value.map((n,L)=>q(bt,{key:"option-"+L,removable:r.editable.value===!0&&Fe.value(n.opt)!==!0,dense:!0,textColor:e.color,tabindex:me.value,onRemove(){n.removeAtIndex(L)}},()=>q("span",{class:"ellipsis",[n.html===!0?"innerHTML":"textContent"]:he.value(n.opt)}))):[q("span",{[ye.value===!0?"innerHTML":"textContent"]:Z.value})]}function Xt(){if(ne.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:f.value}):void 0;const n=t.option!==void 0?t.option:V=>q(Hl,{key:V.index,...V.itemProps},()=>q(st,()=>q(Lt,()=>q("span",{[V.html===!0?"innerHTML":"textContent"]:V.label}))));let L=h("div",at.value.map(n));return t["before-options"]!==void 0&&(L=t["before-options"]().concat(L)),Bt(t["after-options"],L)}function Ql(n,L){const V=L===!0?{...nt.value,...r.splitAttrs.attributes.value}:void 0,j={ref:L===!0?H:void 0,key:"i_t",class:P.value,style:e.inputStyle,value:f.value!==void 0?f.value:"",type:"search",...V,id:L===!0?r.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":n===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Nl.value};return n!==!0&&k===!0&&(Array.isArray(j.class)===!0?j.class=[...j.class,"no-pointer-events"]:j.class+=" no-pointer-events"),q("input",j)}function Gt(n){v!==null&&(clearTimeout(v),v=null),g!==null&&(clearTimeout(g),g=null),!(n&&n.target&&n.target.qComposing===!0)&&(ut(n.target.value||""),A=!0,U=f.value,r.focused.value!==!0&&(k!==!0||m.value===!0)&&r.focus(),e.onFilter!==void 0&&(v=setTimeout(()=>{v=null,Ne(f.value)},e.inputDebounce)))}function ut(n,L){f.value!==n&&(f.value=n,L===!0||e.inputDebounce===0||e.inputDebounce==="0"?l("inputValue",n):g=setTimeout(()=>{g=null,l("inputValue",n)},e.inputDebounce))}function Ze(n,L,V){A=V!==!0,e.useInput===!0&&(ut(n,!0),(L===!0||V!==!0)&&(U=n),L!==!0&&Ne(n))}function Ne(n,L,V){if(e.onFilter===void 0||L!==!0&&r.focused.value!==!0)return;r.innerLoading.value===!0?l("filterAbort"):(r.innerLoading.value=!0,c.value=!0),n!==""&&e.multiple!==!0&&y.value.length!==0&&A!==!0&&n===he.value(y.value[0])&&(n="");const j=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);$!==null&&clearTimeout($),$=j,l("filter",n,(ie,ae)=>{(L===!0||r.focused.value===!0)&&$===j&&(clearTimeout($),typeof ie=="function"&&ie(),c.value=!1,Ce(()=>{r.innerLoading.value=!1,r.editable.value===!0&&(L===!0?o.value===!0&&Ie():o.value===!0?xt(!0):o.value=!0),typeof ae=="function"&&Ce(()=>{ae(a)}),typeof V=="function"&&Ce(()=>{V(a)})}))},()=>{r.focused.value===!0&&$===j&&(clearTimeout($),r.innerLoading.value=!1,c.value=!1),o.value===!0&&(o.value=!1)})}function Ul(){return q(zl,{ref:Y,class:E.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&ne.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:N.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:St.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Me.value,onScrollPassive:x,onBeforeShow:Zt,onBeforeHide:Yl,onShow:Xl},Xt)}function Yl(n){el(n),Pe()}function Xl(){O()}function Gl(n){Ke(n),H.value!==null&&H.value.focus(),m.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Jl(n){Ke(n),Ce(()=>{m.value=!1})}function Zl(){const n=[q(Da,{class:`col-auto ${r.fieldClass.value}`,...T.value,for:r.targetUid.value,dark:N.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:f.value.length!==0,...r.splitAttrs.listeners.value,onFocus:Gl,onBlur:Jl},{...t,rawControl:()=>r.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&n.push(q("div",{ref:J,class:E.value+" scroll",style:e.popupContentStyle,...Me.value,onClick:tt,onScrollPassive:x},Xt())),q(Tl,{ref:M,modelValue:u.value,position:e.useInput===!0?"top":void 0,transitionShow:G,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Zt,onBeforeHide:en,onHide:tn,onShow:ln},()=>q("div",{class:"q-select__dialog"+(N.value===!0?" q-select__dialog--dark q-dark":"")+(m.value===!0?" q-select__dialog--focused":"")},n))}function en(n){el(n),M.value!==null&&M.value.__updateRefocusTarget(r.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),r.focused.value=!1}function tn(n){Ie(),r.focused.value===!1&&l("blur",n),We()}function ln(){const n=document.activeElement;(n===null||n.id!==r.targetUid.value)&&H.value!==null&&H.value!==n&&H.value.focus(),O()}function Pe(){u.value!==!0&&(s.value=-1,o.value===!0&&(o.value=!1),r.focused.value===!1&&($!==null&&(clearTimeout($),$=null),r.innerLoading.value===!0&&(l("filterAbort"),r.innerLoading.value=!1,c.value=!1)))}function je(n){r.editable.value===!0&&(k===!0?(r.onControlFocusin(n),u.value=!0,Ce(()=>{r.focus()})):r.focus(),e.onFilter!==void 0?Ne(f.value):(ne.value!==!0||t["no-option"]!==void 0)&&(o.value=!0))}function Ie(){u.value=!1,Pe()}function We(){e.useInput===!0&&Ze(e.multiple!==!0&&e.fillInput===!0&&y.value.length!==0&&he.value(y.value[0])||"",!0,!0)}function xt(n){let L=-1;if(n===!0){if(y.value.length!==0){const V=ke.value(y.value[0]);L=e.options.findIndex(j=>Qe(ke.value(j),V))}_(L)}Re(L)}function nn(n,L){o.value===!0&&r.innerLoading.value===!1&&(_(-1,!0),Ce(()=>{o.value===!0&&r.innerLoading.value===!1&&(n>L?_():xt(!0))}))}function Jt(){u.value===!1&&Y.value!==null&&Y.value.updatePosition()}function Zt(n){n!==void 0&&Ke(n),l("popupShow",n),r.hasPopupOpen=!0,r.onControlFocusin(n)}function el(n){n!==void 0&&Ke(n),l("popupHide",n),r.hasPopupOpen=!1,r.onControlFocusout(n)}function tl(){k=i.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||ne.value===!1:!0),G=i.platform.is.ios===!0&&k===!0&&e.useInput===!0?"fade":e.transitionShow}return Sl(tl),dn(Jt),tl(),Ee(()=>{v!==null&&clearTimeout(v),g!==null&&clearTimeout(g)}),Object.assign(a,{showPopup:je,hidePopup:Ie,removeAtIndex:yt,add:Pt,toggleOption:Ae,getOptionIndex:()=>s.value,setOptionIndex:Re,moveOptionSelection:ot,filter:Ne,updateMenuPosition:Jt,updateInputValue:Ze,isOptionSelected:_t,getEmittingOptionValue:Nt,isOptionDisabled:(...n)=>Fe.value.apply(null,n)===!0,getOptionValue:(...n)=>ke.value.apply(null,n),getOptionLabel:(...n)=>he.value.apply(null,n)}),Object.assign(r,{innerValue:y,fieldClass:S(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:D,targetRef:H,hasValue:X,showPopup:je,floatingLabel:S(()=>e.hideSelected!==!0&&X.value===!0||typeof f.value=="number"||f.value.length!==0||ol(e.displayValue)),getControlChild:()=>{if(r.editable.value!==!1&&(u.value===!0||ne.value!==!0||t["no-option"]!==void 0))return k===!0?Zl():Ul();r.hasPopupOpen===!0&&(r.hasPopupOpen=!1)},controlEvents:{onFocusin(n){r.onControlFocusin(n)},onFocusout(n){r.onControlFocusout(n,()=>{We(),Pe()})},onClick(n){if(tt(n),k!==!0&&o.value===!0){Pe(),H.value!==null&&H.value.focus();return}je(n)}},getControl:n=>{const L=Kl(),V=n===!0||u.value!==!0||k!==!0;if(e.useInput===!0)L.push(Ql(n,V));else if(r.editable.value===!0){const ie=V===!0?nt.value:void 0;L.push(q("input",{ref:V===!0?H:void 0,key:"d_t",class:"q-select__focus-target",id:V===!0?r.targetUid.value:void 0,value:Z.value,readonly:!0,"data-autofocus":n===!0||e.autofocus===!0||void 0,...ie,onKeydown:Ut,onKeyup:Wt,onKeypress:Qt})),V===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&L.push(q("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Kt}))}if(Q.value!==void 0&&e.disable!==!0&&it.value.length!==0){const ie=it.value.map(ae=>q("option",{value:ae,selected:!0}));L.push(q("select",{class:"hidden",name:Q.value,multiple:e.multiple},ie))}const j=e.useInput===!0||V!==!0?void 0:r.splitAttrs.attributes.value;return q("div",{class:"q-field__native row items-center",...j,...r.splitAttrs.listeners.value},L)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[q(Be,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:Ge.value})]:null}),Al(r)}}),Qa=Se({__name:"StatusEditor",props:{data:{},description:{}},setup(e){const t=e,l=S({get(){return t.data[t.description.id]},set(i){t.data[t.description.id]=i}}),a=["ing","done","abandoned"];return(i,o)=>(F(),te(Ka,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=u=>l.value=u),label:i.description.label,options:a,dense:"","options-dense":""},null,8,["modelValue","label"]))}}),Ua=Se({__name:"RatingEditor",props:{data:{},description:{}},setup(e){const t=e,l=S({get(){return t.data[t.description.id]},set(a){t.data[t.description.id]=a}});return(a,i)=>(F(),fe("div",null,[re(" rate "),ee(zt,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=o=>l.value=o),max:5,min:1,color:"red",icon:"favorite_border","icon-selected":"favorite","no-reset":""},null,8,["modelValue"])]))}});var pe=(e=>(e[e.String=0]="String",e[e.Number=1]="Number",e[e.Object=2]="Object",e[e.List=3]="List",e[e.Tags=4]="Tags",e[e.Eposide=5]="Eposide",e[e.Status=6]="Status",e[e.Rating=7]="Rating",e))(pe||{});const Ya={id:"",label:"",type:2,isNullable:!1,node:[{id:"info",label:"infomation",type:2,isNullable:!1,node:[{id:"title",type:0,label:"title",isNullable:!1},{id:"localTitle",type:0,label:"local title",isNullable:!0},{id:"tags",type:4,label:"tags",isNullable:!0},{id:"poster",type:3,label:"poster",isNullable:!1,node:{id:"poster",type:0,label:"link",isNullable:!1}}]},{id:"notes",label:"notes",type:3,isNullable:!1,node:{id:"round",type:2,label:"",isNullable:!1,node:[{id:"status",type:6,label:"status",isNullable:!1},{id:"rate",type:7,label:"rate",isNullable:!0},{id:"eposides",type:5,label:"eposides",isNullable:!1}]}}]},Xa={id:"",label:"",type:2,isNullable:!1,node:[{id:"info",label:"infomation",type:2,isNullable:!1,node:[{id:"title",type:0,label:"title",isNullable:!1},{id:"localTitle",type:0,label:"local title",isNullable:!0},{id:"tags",type:4,label:"tags",isNullable:!0},{id:"poster",type:3,label:"poster",isNullable:!1,node:{id:"poster",type:0,label:"link",isNullable:!1}}]},{id:"notes",label:"notes",type:3,isNullable:!1,node:{id:"round",type:2,label:"",isNullable:!1,node:[{id:"status",type:6,label:"status",isNullable:!1},{id:"rate",type:7,label:"rate",isNullable:!0},{id:"eposides",type:5,label:"eposides",isNullable:!1}]}}]},Rt=Se({__name:"AbstractEditor",props:{data:{},description:{}},setup(e){const t=new Map([[pe.String,ya],[pe.Object,wa],[pe.List,_a],[pe.Tags,Aa],[pe.Eposide,Ha],[pe.Status,Qa],[pe.Rating,Ua]]),l=e;return(a,i)=>(F(),te(_l(gt(t).get(l.description.type)),{data:wl(l.data),description:l.description},null,8,["data","description"]))}}),Ga=Se({__name:"Editor",props:{data:{},label:{},previewWidth:{}},emits:[...ul.emits],setup(e){const t=e,{dialogRef:l,onDialogHide:a,onDialogOK:i,onDialogCancel:o}=ul(),u=wl(t.data),s=S(()=>ht(t.data)?Ya:Dt(t.data)?Xa:null);function f(){i(t.data)}function m(){o()}return(c,v)=>(F(),te(Tl,{ref_key:"dialogRef",ref:l,onHide:gt(a),"full-width":""},{default:K(()=>[ee(Ve,null,{default:K(()=>[ee(we,{horizontal:""},{default:K(()=>[ee(we,null,{default:K(()=>[ee(Rl,{data:u,width:t.previewWidth},null,8,["data","width"]),ee(ba,{dense:"",label:"raw"},{default:K(()=>[ee(Ve,{style:{"white-space":"pre"}},{default:K(()=>[re(ue(JSON.stringify(u,null,4)),1)]),_:1})]),_:1}),ee(Un,{align:"around",class:"q-gutter-sm",vertical:""},{default:K(()=>[ee(ct,{onClick:f,color:"green",class:"full-width"},{default:K(()=>[re(" OK ")]),_:1}),ee(ct,{onClick:m,color:"red",dense:"",class:"full-width"},{default:K(()=>[re(" Cancel ")]),_:1})]),_:1})]),_:1}),ee(Sa,{bordered:""},{default:K(()=>[ee(Rt,{data:u,description:s.value,class:"full-width"},null,8,["data","description"])]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}}),Rl=Se({__name:"PreviewCard",props:{width:{},data:{}},setup(e){const t=Yn(),l=Xn("token",""),a=S(()=>Dt(i.data)?ca:ht(i.data)?ga:void 0),i=e;function o(){(l==null?void 0:l.value.length)>0&&t.dialog({component:Ga,componentProps:{data:i.data,previewWidth:i.width}})}return(u,s)=>(F(),fe("div",{style:fn("width:"+i.width+"px"),onClick:o},[(F(),te(_l(a.value),{data:i.data,style:{height:"100%"}},null,8,["data"]))],4))}}),Ja=Se({__name:"CardLayout",props:{data:{},gap:{default:2},maxElementWidth:{default:256}},setup(e){vn(m=>({"74404eef":i.value,be73b688:u.value,"47de3a04":o.value}));const t=e,l=W(256),a=W(null),i=W(2),o=S(()=>t.gap+"px"),u=S(()=>l.value+"px"),s=S(()=>t.data.sort((c,v)=>rl(v).diff(rl(c))));yl(()=>{f(),window.addEventListener("resize",f)}),mn(()=>{window.removeEventListener("resize",f)});function f(){var v;let m=((v=a.value)==null?void 0:v.clientWidth)??256,c=t.maxElementWidth+t.gap;m>2*c?(i.value=Math.round(m/c),l.value=m/i.value-t.gap):(i.value=2,l.value=(m-i.value*t.gap*2)/2)}return(m,c)=>(F(),fe("div",{class:"wrapper",ref_key:"main",ref:a},[(F(!0),fe(He,null,De(s.value,(v,g)=>(F(),te(Rl,{data:v,width:l.value,key:g,class:"item"},null,8,["data","width"]))),128))],512))}}),ii=gn(Ja,[["__scopeId","data-v-ddb3858e"]]);export{ii as C,rt as Q,ai as c,rl as g,ni as s};
