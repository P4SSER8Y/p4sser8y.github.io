import E from"./ErrorNotFound-DSEXIuOA.js";import{s as T,C as w}from"./CardLayout-nDCPeYcS.js";import"./QLayout-C4F_jVLr.js";import{h as k,w as C,K as P,G as _,a as L,d as M,o as S,c as p,L as h}from"./_plugin-vue_export-helper-Dxsx2kFr.js";import{s as y,u as j,a as x}from"./stream-gtyDiXRs.js";import"./raven-ByXgOShA.js";const F=Object.prototype.toString,m=Object.prototype.hasOwnProperty,D=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(t=>"[object "+t+"]"));function v(t){if(t!==Object(t)||D.has(F.call(t))===!0||t.constructor&&m.call(t,"constructor")===!1&&m.call(t.constructor.prototype,"isPrototypeOf")===!1)return!1;let n;for(n in t);return n===void 0||m.call(t,n)}function O(){let t,n,e,r,o,i,l=arguments[0]||{},a=1,f=!1;const d=arguments.length;for(typeof l=="boolean"&&(f=l,l=arguments[1]||{},a=2),Object(l)!==l&&typeof l!="function"&&(l={}),d===a&&(l=this,a--);a<d;a++)if((t=arguments[a])!==null)for(n in t)e=l[n],r=t[n],l!==r&&(f===!0&&r&&((o=Array.isArray(r))||v(r)===!0)?(o===!0?i=Array.isArray(e)===!0?e:[]:i=v(e)===!0?e:{},l[n]=O(f,i,r)):r!==void 0&&(l[n]=r));return l}let u=null,g;const s=[];function H(t){t.title&&(t.title=t.titleTemplate?t.titleTemplate(t.title):t.title,delete t.titleTemplate),[["meta","content"],["link","href"]].forEach(n=>{const e=t[n[0]],r=n[1];for(const o in e){const i=e[o];i.template&&(Object.keys(i).length===1?delete e[o]:(i[r]=i.template(i[r]||""),delete i.template))}})}function q(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!0;for(const e in t)if(t[e]!==n[e])return!0}function A(t){return["class","style"].includes(t)===!1}function b(t){return["lang","dir"].includes(t)===!1}function B(t,n){const e={},r={};return t===void 0?{add:n,remove:r}:(t.title!==n.title&&(e.title=n.title),["meta","link","script","htmlAttr","bodyAttr"].forEach(o=>{const i=t[o],l=n[o];if(r[o]=[],i==null){e[o]=l;return}e[o]={};for(const a in i)l.hasOwnProperty(a)===!1&&r[o].push(a);for(const a in l)i.hasOwnProperty(a)===!1?e[o][a]=l[a]:q(i[a],l[a])===!0&&(r[o].push(a),e[o][a]=l[a])}),{add:e,remove:r})}function I({add:t,remove:n}){t.title&&(document.title=t.title),Object.keys(n).length!==0&&(["meta","link","script"].forEach(e=>{n[e].forEach(r=>{document.head.querySelector(`${e}[data-qmeta="${r}"]`).remove()})}),n.htmlAttr.filter(b).forEach(e=>{document.documentElement.removeAttribute(e)}),n.bodyAttr.filter(A).forEach(e=>{document.body.removeAttribute(e)})),["meta","link","script"].forEach(e=>{const r=t[e];for(const o in r){const i=document.createElement(e);for(const l in r[o])l!=="innerHTML"&&i.setAttribute(l,r[o][l]);i.setAttribute("data-qmeta",o),e==="script"&&(i.innerHTML=r[o].innerHTML||""),document.head.appendChild(i)}}),Object.keys(t.htmlAttr).filter(b).forEach(e=>{document.documentElement.setAttribute(e,t.htmlAttr[e]||"")}),Object.keys(t.bodyAttr).filter(A).forEach(e=>{document.body.setAttribute(e,t.bodyAttr[e]||"")})}function N(){u=null;const t={title:"",titleTemplate:null,meta:{},link:{},script:{},htmlAttr:{},bodyAttr:{}};for(let n=0;n<s.length;n++){const{active:e,val:r}=s[n];e===!0&&O(!0,t,r)}H(t),I(B(g,t)),g=t}function c(){u!==null&&clearTimeout(u),u=setTimeout(N,50)}function R(t){{const n={active:!0};if(typeof t=="function"){const e=k(t);n.val=e.value,C(e,r=>{n.val=r,n.active===!0&&c()})}else n.val=t;s.push(n),c(),P(()=>{n.active=!0,c()}),_(()=>{n.active=!1,c()}),L(()=>{s.splice(s.indexOf(n),1),c()})}}const V=M({__name:"PosterWall",setup(t){const n=y(j()),e=y(x()),r=k(()=>{if(e.merged.value)return n.data.value;{let o=[];for(let i of n.data.value??[])o=o.concat(T(i));return o}});return S(async()=>{e.lastPage.value="posterWall"}),R(()=>({title:"How Time Flies"})),(o,i)=>r.value.length==0?(p(),h(E,{key:0})):(p(),h(w,{key:1,data:r.value},null,8,["data"]))}});export{V as default};
