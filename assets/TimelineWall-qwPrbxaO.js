import{c as b,s as k,g as p,Q,C}from"./CardLayout-nDCPeYcS.js";import{k as q,M as f,X as T,Q as x,m as g,Y as S,p as E,q as $}from"./QLayout-C4F_jVLr.js";import{p as B,h as c,H as i,E as D,Y as F,d as w,o as N,c as m,L as v,M as _,e as M,f as V,i as j,N as L,t as R,j as y,F as I}from"./_plugin-vue_export-helper-Dxsx2kFr.js";import{s as h,a as P,u as Y}from"./stream-gtyDiXRs.js";import H from"./ErrorNotFound-DSEXIuOA.js";import"./raven-ByXgOShA.js";const K=q({name:"QTimelineEntry",props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},setup(e,{slots:s}){const r=B(S,f);if(r===f)return console.error("QTimelineEntry needs to be child of QTimeline"),f;const d=c(()=>`q-timeline__entry q-timeline__entry--${e.side}`+(e.icon!==void 0||e.avatar!==void 0?" q-timeline__entry--icon":"")),o=c(()=>`q-timeline__dot text-${e.color||r.color}`),a=c(()=>r.layout==="comfortable"&&r.side==="left");return()=>{const l=T(s.default,[]);if(e.body!==void 0&&l.unshift(e.body),e.heading===!0){const u=[i("div"),i("div"),i(e.tag,{class:"q-timeline__heading-title"},l)];return i("div",{class:"q-timeline__heading"},a.value===!0?u.reverse():u)}let t;e.icon!==void 0?t=[i(x,{class:"row items-center justify-center",name:e.icon})]:e.avatar!==void 0&&(t=[i("img",{class:"q-timeline__dot-img",src:e.avatar})]);const n=[i("div",{class:"q-timeline__subtitle"},[i("span",{},g(s.subtitle,[e.subtitle]))]),i("div",{class:o.value},t),i("div",{class:"q-timeline__content"},[i("h6",{class:"q-timeline__title"},g(s.title,[e.title]))].concat(l))];return i("li",{class:d.value},a.value===!0?n.reverse():n)}}}),U=q({name:"QTimeline",props:{...E,color:{type:String,default:"primary"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},layout:{type:String,default:"dense",validator:e=>["dense","comfortable","loose"].includes(e)}},setup(e,{slots:s}){const r=D(),d=$(e,r.proxy.$q);F(S,e);const o=c(()=>`q-timeline q-timeline--${e.layout} q-timeline--${e.layout}--${e.side}`+(d.value===!0?" q-timeline--dark":""));return()=>i("ul",{class:o.value},g(s.default))}}),W={class:"text-h4"},Z=w({__name:"TimelineWall",setup(e){const s=h(P()),r=h(Y());N(async()=>{s.lastPage.value="timeline"});const d=c(()=>r.data.value.map(a=>b(a,s.classifyFormat.value)).reduce((a,l)=>a.concat(l)).map(k).reduce((a,l)=>a.concat(l))),o=c(()=>{let a=new Map;for(let t of d.value){let n=p(t).format(s.classifyFormat.value),u=a.get(n)??[];u.push(t),a.set(n,u)}let l=[];return a.forEach((t,n)=>{l.push({title:n,records:t})}),l.sort((t,n)=>n.title>t.title?1:n.title<t.title?-1:0),l});return(a,l)=>o.value.length==0?(m(),v(H,{key:0})):(m(),v(U,{key:1,layout:"dense"},{default:_(()=>[(m(!0),M(I,null,V(o.value,t=>(m(),v(K,{key:t.title},{title:_(()=>[j("div",W,[L(R(t.title)+" ",1),y(Q,{rounded:"",color:"secondary",label:t.records.length,align:"top"},null,8,["label"])])]),default:_(()=>[y(C,{data:t.records},null,8,["data"])]),_:2},1024))),128))]),_:1}))}});export{Z as default};
